(()=>{var t={8583:()=>{window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(t){return window.setTimeout(t,17)}),window.cancelAnimationFrame||(window.cancelAnimationFrame=window.cancelRequestAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelAnimationFrame||window.mozCancelRequestAnimationFrame||window.msCancelAnimationFrame||window.msCancelRequestAnimationFrame||window.oCancelAnimationFrame||window.oCancelRequestAnimationFrame||window.clearTimeout),window.utils={},window.utils.captureMouse=function(t){var e={x:0,y:0,event:null},i=document.body.scrollLeft,n=document.documentElement.scrollLeft,s=document.body.scrollTop,o=document.documentElement.scrollTop,a=t.offsetLeft,h=t.offsetTop;return t.addEventListener("mousemove",(function(t){var r,c;t.pageX||t.pageY?(r=t.pageX,c=t.pageY):(r=t.clientX+i+n,c=t.clientY+s+o),r-=a,c-=h,e.x=r,e.y=c,e.event=t}),!1),e},window.utils.captureTouch=function(t){var e={x:null,y:null,isPressed:!1,event:null},i=document.body.scrollLeft,n=document.documentElement.scrollLeft,s=document.body.scrollTop,o=document.documentElement.scrollTop,a=t.offsetLeft,h=t.offsetTop;return t.addEventListener("touchstart",(function(t){e.isPressed=!0,e.event=t}),!1),t.addEventListener("touchend",(function(t){e.isPressed=!1,e.x=null,e.y=null,e.event=t}),!1),t.addEventListener("touchmove",(function(t){var r,c,u=t.touches[0];u.pageX||u.pageY?(r=u.pageX,c=u.pageY):(r=u.clientX+i+n,c=u.clientY+s+o),r-=a,c-=h,e.x=r,e.y=c,e.event=t}),!1),e},window.utils.parseColor=function(t,e){return!0===e?"number"==typeof t?0|t:("string"==typeof t&&"#"===t[0]&&(t=t.slice(1)),window.parseInt(t,16)):("number"==typeof t&&(t="#"+("00000"+(0|t).toString(16)).substr(-6)),t)},window.utils.colorToRGB=function(t,e){"string"==typeof t&&"#"===t[0]&&(t=window.parseInt(t.slice(1),16));var i=t>>16&255,n=t>>8&255,s=255&t,o=(e=void 0===e?1:e)<0?0:e>1?1:e;return 1===o?"rgb("+i+","+n+","+s+")":"rgba("+i+","+n+","+s+","+o+")"},window.utils.containsPoint=function(t,e,i){return!(e<t.x||e>t.x+t.width||i<t.y||i>t.y+t.height)},window.utils.intersects=function(t,e){return!(t.x+t.width<e.x||e.x+e.width<t.x||t.y+t.height<e.y||e.y+e.height<t.y)}}},e={};function i(n){if(e[n])return e[n].exports;var s=e[n]={exports:{}};return t[n](s,s.exports,i),s.exports}(()=>{"use strict";function t(t,e){void 0===t&&(t=40),void 0===e&&(e="#ff0000"),this.x=0,this.y=0,this.radius=t,this.rotation=0,this.scaleX=1,this.scaleY=1,this.color=utils.parseColor(e),this.lineWidth=1}i(8583),t.prototype.draw=function(t){t.save(),t.translate(this.x,this.y),t.rotate(this.rotation),t.scale(this.scaleX,this.scaleY),t.lineWidth=this.lineWidth,t.fillStyle=this.color,t.beginPath(),t.arc(0,0,this.radius,0,2*Math.PI,!0),t.closePath(),t.fill(),this.lineWidth>0&&t.stroke(),t.restore()},t.prototype.getBounds=function(){return{x:this.x-this.radius,y:this.y-this.radius,width:2*this.radius,height:2*this.radius}};const e=t;new class{constructor(){this.canvas=document.getElementById("capture-touch"),this.context=this.canvas.getContext("2d"),this.touch=utils.captureTouch(this.canvas),this.log=document.getElementById("capture-touch-log"),this.ball=new e,this.ball.x=this.canvas.width/2,this.ball.y=this.canvas.height/2,this.ball.draw(this.context),this.markerOn=!1,this.initListeners()}onMouseMove(){this.context.lineTo(this.touch.x,this.touch.y),this.context.strokeStyle="yellow",this.context.stroke()}initListeners(){this.canvas.addEventListener("touchstart",(t=>{t.preventDefault(),utils.containsPoint(this.ball.getBounds(),this.touch.x,this.touch.y)?this.log.value="in ball: touchstart":this.log.value="canvas: touchstart",this.markerOn=!0,this.context.beginPath()}),!1),this.canvas.addEventListener("touchend",(t=>{t.preventDefault(),this.log.value="canvas: touchend",this.markerOn=!1}),!1),this.canvas.addEventListener("touchmove",(t=>{t.preventDefault(),utils.containsPoint(this.ball.getBounds(),this.touch.x,this.touch.y)?this.log.value="in ball: touchmove":this.log.value="canvas: touchmove",this.markerOn&&this.onMouseMove()}),!1)}},new class{constructor(){this.canvas=document.getElementById("perspective"),this.context=this.canvas.getContext("2d"),this.w=this.canvas.width,this.h=this.canvas.height,this.fov=250,this.pixels=[],this.generatePoints(),this.drawFrame()}generatePoints(){for(var t=-250;t<250;t+=5)for(var e=-250;e<250;e+=5)this.pixels.push({x:t,y:30,z:e})}draw(){this.clearRect();for(var t=this.context.getImageData(0,0,this.w,this.h),e=this.pixels.length;e--;){var i=this.pixels[e],n=this.fov/(this.fov+i.z),s=i.x*n+this.w/2,o=i.y*n+this.h/2;if(s>=0&&s<=this.w&&o>=0&&o<=this.h){var a=4*(Math.round(o)*t.width+Math.round(s));t.data[a]=0,t.data[a+1]=255,t.data[a+2]=60,t.data[a+3]=255}i.z-=1,i.z<-this.fov&&(i.z+=2*this.fov)}this.context.putImageData(t,0,0)}drawFrame(){window.requestAnimationFrame(this.drawFrame.bind(this,this.canvas)),this.draw()}clearRect(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height)}},new class{constructor(){this.canvas=document.getElementById("pixel-move"),this.context=this.canvas.getContext("2d"),this.mouse=utils.captureMouse(this.canvas),this.drawFrame()}drawFrame(){window.requestAnimationFrame(this.drawFrame.bind(this,this.canvas));for(var t=0;t<this.canvas.width;t+=10)for(var e=0;e<this.canvas.height;e+=10)this.context.fillStyle=t%20==0?"#fee":t%30==0?"#eee":"#bee",this.context.fillRect(t,e,10,10);const i=this.context.getImageData(0,0,this.canvas.width,this.canvas.height),n=i.data;for(var s=0;s<i.height;s+=1)for(var o=0;o<i.width;o+=1){const t=o-this.mouse.x,e=s-this.mouse.y,a=Math.sqrt(t*t+e*e),h=4*(o+s*i.width),r=n[h],c=n[h+1],u=n[h+2];n[h]=256*Math.sin(r*a*5e-4),n[h+1]=256*Math.sin(c*a*5e-4),n[h+2]=256*Math.sin(u*a*5e-4)}this.context.putImageData(i,0,0)}}})()})();